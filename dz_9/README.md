# Домашнее задание 9. Мусаев Умахан Рашидович. БПИ234

## Условие:
Разработать клиент-серверное приложение, использующее TCP/IP и реализующее следующие взаимодействия: клиент №1 передает сообщения серверу, который перенаправляет их клиенту №2. В качестве исходных данных задавать: IP-адрес сервера, порт сервера. Эти данные можно задавать либо в командной строке, либо с использованием функций стандартного ввода.
Передаваемое сообщение задается из стандартного ввода в цикле. То есть, можно передать не одно а несколько сообщений от клиента №1 клиенту №2. При передаче сообщения «The End» необходимо завершить работу как клиентов, так и сервера.
Приложение должно функционировать в конфигурациях от одного до трех компьютеров с различными комбинациями размещения клиентов и сервера.

## Структура программы

### Сервер (server.cpp)

#### 1. Главная функция (`main`):
- Принимает аргументы командной строки: порт сервера (по умолчанию `6000`).
- Создает сокет и связывает его с указанным портом.
- Переводит сокет в режим прослушивания (`listen`) для ожидания подключений.
- Принимает подключения от двух клиентов (Клиент №1 и Клиент №2).
- В бесконечном цикле:
  - Получает сообщения от Клиента №1.
  - Пересылает полученные сообщения Клиенту №2.
  - Завершает работу, если получено сообщение `"The End"`.
- Закрывает сокеты и освобождает ресурсы при завершении работы.

---

### Клиент (client.cpp)

#### 1. Главная функция (`main`):
- Принимает аргументы командной строки: IP-адрес сервера, порт и режим работы (`send` или `recv`).
- Создает сокет и подключается к серверу.
- В зависимости от режима:
  - **Режим `send` (Клиент №1):**
    - Считывает сообщения с консоли.
    - Отправляет сообщения серверу.
    - Завершает работу при вводе `"The End"`.
  - **Режим `recv` (Клиент №2):**
    - Получает сообщения от сервера.
    - Выводит полученные сообщения в консоль.
    - Завершает работу при получении сообщения `"The End"`.
- Закрывает сокет при завершении работы.

---

## Используемые технологии
- **Язык программирования:** C++
- **Сетевые сокеты:** TCP/IP
- **Библиотеки:**
  - `<iostream>` — для работы с консольным вводом/выводом.
  - `<string>` — для работы со строками.
  - `<cstring>` — для работы с C-строками.
  - `<cstdlib>` — для преобразования аргументов командной строки.
  - `<unistd.h>` — для работы с файловыми дескрипторами.
  - `<arpa/inet.h>` — для работы с сетевыми адресами.
 



## Сборка
Для сборки программы используйте компилятор `g++`. Выполните следующие команды в терминале:

`g++ -o server server.cpp`

`g++ -o client client.cpp`


## Запуск

### 1. Запустите сервер:

`./server 6000`

### 2. Запустите Клиента №1 во втором терминале (отправитель):

`./client 127.0.0.1 6000 send`

   Здесь `127.0.0.1` — это IP-адрес сервера. Его можно заменить на IP-адрес машины, где запущен сервер.

### 3. Запустите Клиента №2 в третьем терминале (получатель):

`./client 127.0.0.1 6000 recv`


## Пример работы:
